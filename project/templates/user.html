<html  lang="en">
<head>
<meta charset="utf-8">

    <meta http-equiv="X-UA-Compatible" content="IE=edge">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">  
        <link  href="{{ url_for('static', filename='../statics/img/J.png') }} " rel="icon" > 
    <title>JUST</title>
   
   
    <link href="{{ url_for('static', filename='../statics/css/font-awesome.min.css') }} "rel="stylesheet" />
    <link href="{{ url_for('static', filename='../statics/css/bootstrap.css') }} "rel="stylesheet" />
    <link href="{{ url_for('static', filename='../statics/css/sweetalert.css') }} " rel="stylesheet" />
    <script src="{{ url_for('static', filename='../statics/js/sweetalert.min.js') }}" /></script>
    <script src="{{ url_for('static', filename='../statics/js/jssor.slider.min.js') }}" /></script>
    <script src="{{ url_for('static', filename='../statics/js/jquery-2.1.3.js') }}" /></script>
    <script src="{{ url_for('static', filename='../statics/js/bootstrap.js') }}" /></script>
    <link href="{{ url_for('static', filename='../statics/css/style.css') }}" rel="stylesheet" />

        
</head>

<body> 

<div class=" user">
	<div class="row top-menu" >
		
		
		<p style="margin-top:0.5%;"><img src="{{ url_for('static', filename='../statics/img/J.png') }}" alt="JUST"  height="80%"> </img>  Welcome to IUST JUDGE :) </p>
	
	</div>
	<div class="row col-xs-offset=1 col-md-offset-1 content">
	<div class="left col-xs-10 col-md-6" >
		 <div id="jssor_1" style="position: relative; margin: 0 auto; top: 0px; left: 0px; width: 600px; height: 300px; overflow: hidden; visibility: hidden;">
        <!-- Loading Screen -->
        <div data-u="loading" style="position: absolute; top: 0px; left: 0px;">
            <div style="filter: alpha(opacity=70); opacity: 0.7; position: absolute; display: block; top: 0px; left: 0px; width: 100%; height: 100%;"></div>
            <div style="position:absolute;display:block;background:url('{{ url_for('static', filename='../statics/img/loading.gif') }}') no-repeat center center;top:0px;left:0px;width:100%;height:100%;"></div>
        </div>
        <div data-u="slides" style="cursor: default; position: relative; top: 0px; left: 0px; width: 600px; height: 300px; overflow: hidden;">
           <!-- <div data-p="112.50" style="display: none;">
                <img data-u="image" src="{{ url_for('static', filename='../statics/img/Just.png') }}" />
            </div>/-->
            <div data-p="112.50" style="display: none;">
                <img data-u="image" src="{{ url_for('static', filename='../statics/img/ACM1.jpg') }}" />
            </div>
            <div data-p="112.50" style="display: none;">
                <img data-u="image" src="{{ url_for('static', filename='../statics/img/ACM2.jpg') }}"/>
            </div>
            
        </div>
        <!-- Bullet Navigator -->
        <div data-u="navigator" class="jssorb05" style="bottom:16px;right:16px;" data-autocenter="1">
            <!-- bullet navigator item prototype -->
            <div data-u="prototype" style="width:16px;height:16px;"></div>
        </div>
        <!-- Arrow Navigator -->
        <span data-u="arrowleft" class="jssora12l" style="top:0px;left:0px;width:30px;height:46px;" data-autocenter="2"><i class="fa fa-chevron-left"></i></span>
        <span data-u="arrowright" class="jssora12r" style="top:0px;right:0px;width:30px;height:46px;" data-autocenter="2"><i class="fa fa-chevron-right"></i></span>
        <a href="http://www.jssor.com" style="display:none">Bootstrap Carousel</a>
    </div>
	</div>
	<div class="right">
		<ul class="nav nav-tabs">
			<li class="active"><a data-toggle="tab" href="#login">Login</a></li>
			<li><a data-toggle="tab" href="#register">Sign up</a></li>
			<li><a data-toggle="tab" href="#forgetpassword">Forget password</a></li>
		 </ul>

		<div class="tab-content  col-xs-12 col-md-12">
			
    <div id="login" class="tab-pane fade in active">
		<input type="text" name="username_login" id="username_login" placeholder="Username" required /><br>             
        <input type="password" name="password_login" id="password_login" placeholder="Password" required /><br>                
        <input type="button" name="login" id="loginbtn" class="btn btn-primary "value="Login" /><br>
     </div>
    <div id="register" class="tab-pane fade">	        
		<input type="text" name="username" id="username_signup" placeholder="Username" required /><br>             
        <input type="password" name="password" id="password_signup" placeholder="Password" required /><br>    
        <input type="password" name="password" id="re-password_signup" placeholder="re-Enter Password" required /><br>
        <input type="email" name="username" id="email_signup" placeholder="Email" /><br>             
        <input type="button" name="signup" id="signupbtn" class="btn btn-primary "value="register" /><br>
    </div>
    <div id="forgetpassword" class="tab-pane fade">
		
		fdgdfg
      
    </div>
    </div>
	</div>    
	</div>
		
	<div class="footer">Copyright Â© 2015 by JUST team </div>
 </div>

</body>
<script language="javascript">
	jQuery(document).ready(function() {
	 $('#login').keypress(function(e){
      if(e.keyCode==13)
      $('#loginbtn').click();
    });
     $('#register').keypress(function(e){
      if(e.keyCode==13)
      $('#signupbtn').click();
    });

            
            var jssor_1_SlideshowTransitions = [
              {$Duration:1200,$Opacity:2}
            ];
            
            var jssor_1_options = {
              $AutoPlay: true,
              $SlideshowOptions: {
                $Class: $JssorSlideshowRunner$,
                $Transitions: jssor_1_SlideshowTransitions,
                $TransitionsOrder: 1
              },
              $ArrowNavigatorOptions: {
                $Class: $JssorArrowNavigator$
              },
              $BulletNavigatorOptions: {
                $Class: $JssorBulletNavigator$
              }
            };
            
            var jssor_1_slider = new $JssorSlider$("jssor_1", jssor_1_options);
            
            //responsive code begin
            //you can remove responsive code if you don't want the slider scales while window resizing
            function ScaleSlider() {
                var refSize = jssor_1_slider.$Elmt.parentNode.clientWidth;
                if (refSize) {
                    refSize = Math.min(refSize, 600);
                    jssor_1_slider.$ScaleWidth(refSize);
                }
                else {
                    window.setTimeout(ScaleSlider, 30);
                }
            }
            ScaleSlider();
            $(window).bind("load", ScaleSlider);
            $(window).bind("resize", ScaleSlider);
            $(window).bind("orientationchange", ScaleSlider);
            //responsive code end
        
	//sign up
$("#signupbtn").click(function() { 
var username = $("input#username_signup").val();
var password = $("input#password_signup").val();  
var password2 = $("input#re-password_signup").val();  
var email = $("input#email_signup").val(); 
if (password===password2) {
  $.ajax({
            type: "POST",
            url : '/user/signup/',
            contentType: "application/json",
            dataType: "html",
            data: '{"username": "' + username + '", "password" : "' + password + '", "email" : "' + email + '"}',
            success: function (data) {
				swal({
					  title: "Good!",
					  text: "Account successfully created",
					  type: "success",
					 
					  closeOnConfirm: false,
					  showLoaderOnConfirm: true,
					},
					function(){
					 window.location.replace("/user/");
					});         
     					
            },
            error: function (request, status, error) {  
				if(request.status===409) {         
				swal("Sorry!", "Username or email alredy exists", "error") ; 
				}else if(request.status===406){
					swal("Sorry!", "Please fill required field", "error") ; 
				}
          }
              

          });
      }
      else
      {
			swal("Sorry!", "Passwords don't match ", "error") ;      
      }
        $("#username_signup").val('');
		 $("#password_signup").val('');  
		 $("#re-password_signup").val('');  
		 $("#email_signup").val('');
  });
//login
$("#loginbtn").click(function() { 

var username = $("input#username_login").val();
var password = $("input#password_login").val();  

  $.ajax({
            type: "POST",
            url : '/user/login/',
            contentType: "application/json",
            dataType: "html",
            data: '{"username": "' + username + '", "password" : "' + password + '"}',
            success: function (data) {
                window.location.replace("/user/"+username+"/");
            },
            error: function (request, status, error) {
                    
      		swal("Sorry!", (JSON.parse(request.responseText)).errors, "error") ; 
              

            }
                });
  $("#username_login").val('');
		 $("#password_login").val('');                
                
  });

});
</script>
</html>

